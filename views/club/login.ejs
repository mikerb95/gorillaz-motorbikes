<%- include('../partials/head', { title: 'Club — Iniciar sesión' }) %>

<section class="auth-wrap">
  <div class="auth-header">
    <a href="/" class="auth-logo" aria-label="Gorillaz Motorbikes">
      <img src="/favicons/android-chrome-192x192.png" alt="Gorillaz Motorbikes" />
    </a>
    <h1 class="auth-title">Inicia sesión en el Club</h1>
  </div>

  <% if (error) { %>
    <div class="alert error"><%= error %></div>
  <% } %>

  <form method="post" action="/club/login" class="auth-card" novalidate>
    <label for="email">Correo</label>
    <input id="email" name="email" type="email" autocomplete="username" placeholder="tu@correo.com" required />

    <div class="password-field">
      <div class="password-label-row">
        <label for="password">Contraseña</label>
        <a class="link" href="/club/olvide">¿Olvidaste tu contraseña?</a>
      </div>
      <div class="password-input">
        <input id="password" name="password" type="password" autocomplete="current-password" placeholder="********" required />
        <button type="button" class="password-toggle" aria-label="Mostrar u ocultar contraseña" data-toggle-password>
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
        </button>
      </div>
    </div>

    <button class="btn btn-primary" type="submit">Entrar</button>
  </form>

  <div class="auth-alt">
    ¿Nuevo en Gorillaz? <a class="link" href="/club/registro">Crea una cuenta</a>
  </div>

  <p class="muted center" style="margin-top:16px">Demo: miembro@gorillaz.co / gorillaz123</p>
</section>

<script>
  (function(){
    const btn = document.querySelector('[data-toggle-password]');
    const input = document.getElementById('password');
    if (btn && input) {
      btn.addEventListener('click', () => {
        const isPwd = input.type === 'password';
        input.type = isPwd ? 'text' : 'password';
        btn.classList.toggle('is-on', isPwd);
        // Swap icon when toggled
        btn.innerHTML = isPwd
          ? '<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M17.94 17.94A10.94 10.94 0 0 1 12 20C5 20 1 12 1 12a21.82 21.82 0 0 1 5.06-6.94m3.9-2.11A10.94 10.94 0 0 1 12 4c7 0 11 8 11 8a21.82 21.82 0 0 1-3.16 4.19M1 1l22 22"/></svg>'
          : '<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
      });
    }
  })();
</script>

<%- include('../partials/footer') %>
